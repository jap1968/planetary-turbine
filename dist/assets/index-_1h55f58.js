var Yn=Object.defineProperty;var Kn=(e,n,t)=>n in e?Yn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Je=(e,n,t)=>(Kn(e,typeof n!="symbol"?n+"":n,t),t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function Y(){}function Tn(e){return e()}function pn(){return Object.create(null)}function De(e){e.forEach(Tn)}function zn(e){return typeof e=="function"}function _e(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function Un(e){return Object.keys(e).length===0}function d(e,n){e.appendChild(n)}function O(e,n,t){e.insertBefore(n,t||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function We(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function p(e){return document.createElement(e)}function z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function K(e){return document.createTextNode(e)}function W(){return K(" ")}function qe(){return K("")}function L(e,n,t,l){return e.addEventListener(n,t,l),()=>e.removeEventListener(n,t,l)}function f(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function J(e){return e===""?null:+e}function Gn(e){return Array.from(e.childNodes)}function Hn(e,n){n=""+n,e.data!==n&&(e.data=n)}function j(e,n){e.value=n??""}function Se(e,n,t,l){t==null?e.style.removeProperty(n):e.style.setProperty(n,t,l?"important":"")}function wn(e,n,t){for(let l=0;l<e.options.length;l+=1){const o=e.options[l];if(o.__value===n){o.selected=!0;return}}(!t||n!==void 0)&&(e.selectedIndex=-1)}function Jn(e){const n=e.querySelector(":checked");return n&&n.__value}let Fe;function Ee(e){Fe=e}function Qn(){if(!Fe)throw new Error("Function called outside component initialization");return Fe}function Zn(e){Qn().$$.on_mount.push(e)}const Ce=[],xe=[];let Ne=[];const vn=[],xn=Promise.resolve();let $e=!1;function $n(){$e||($e=!0,xn.then(qn))}function Ve(e){Ne.push(e)}const Qe=new Set;let Ae=0;function qn(){if(Ae!==0)return;const e=Fe;do{try{for(;Ae<Ce.length;){const n=Ce[Ae];Ae++,Ee(n),et(n.$$)}}catch(n){throw Ce.length=0,Ae=0,n}for(Ee(null),Ce.length=0,Ae=0;xe.length;)xe.pop()();for(let n=0;n<Ne.length;n+=1){const t=Ne[n];Qe.has(t)||(Qe.add(t),t())}Ne.length=0}while(Ce.length);for(;vn.length;)vn.pop()();$e=!1,Qe.clear(),Ee(e)}function et(e){if(e.fragment!==null){e.update(),De(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(Ve)}}function nt(e){const n=[],t=[];Ne.forEach(l=>e.indexOf(l)===-1?n.push(l):t.push(l)),t.forEach(l=>l()),Ne=n}const ze=new Set;let he;function Pe(){he={r:0,c:[],p:he}}function Ie(){he.r||De(he.c),he=he.p}function I(e,n){e&&e.i&&(ze.delete(e),e.i(n))}function R(e,n,t,l){if(e&&e.o){if(ze.has(e))return;ze.add(e),he.c.push(()=>{ze.delete(e),l&&(t&&e.d(1),l())}),e.o(n)}else l&&l()}function $(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ee(e){e&&e.c()}function Q(e,n,t){const{fragment:l,after_update:o}=e.$$;l&&l.m(n,t),Ve(()=>{const i=e.$$.on_mount.map(Tn).filter(zn);e.$$.on_destroy?e.$$.on_destroy.push(...i):De(i),e.$$.on_mount=[]}),o.forEach(Ve)}function Z(e,n){const t=e.$$;t.fragment!==null&&(nt(t.after_update),De(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function tt(e,n){e.$$.dirty[0]===-1&&(Ce.push(e),$n(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function de(e,n,t,l,o,i,r=null,u=[-1]){const s=Fe;Ee(e);const c=e.$$={fragment:null,ctx:[],props:i,update:Y,not_equal:o,bound:pn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(s?s.$$.context:[])),callbacks:pn(),dirty:u,skip_bound:!1,root:n.target||s.$$.root};r&&r(c.root);let a=!1;if(c.ctx=t?t(e,n.props||{},(g,h,...k)=>{const B=k.length?k[0]:h;return c.ctx&&o(c.ctx[g],c.ctx[g]=B)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](B),a&&tt(e,g)),h}):[],c.update(),a=!0,De(c.before_update),c.fragment=l?l(c.ctx):!1,n.target){if(n.hydrate){const g=Gn(n.target);c.fragment&&c.fragment.l(g),g.forEach(E)}else c.fragment&&c.fragment.c();n.intro&&I(e.$$.fragment),Q(e,n.target,n.anchor),qn()}Ee(s)}class me{constructor(){Je(this,"$$");Je(this,"$$set")}$destroy(){Z(this,1),this.$destroy=Y}$on(n,t){if(!zn(t))return Y;const l=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return l.push(t),()=>{const o=l.indexOf(t);o!==-1&&l.splice(o,1)}}$set(n){this.$$set&&!Un(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const lt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(lt);function it(e){let n;return{c(){n=z("circle"),f(n,"cx",e[0]),f(n,"cy",e[1]),f(n,"r",e[2]),f(n,"stroke",e[3]),f(n,"stroke-width",rt),f(n,"fill",e[4]),f(n,"stroke-dasharray",ft)},m(t,l){O(t,n,l)},p(t,[l]){l&1&&f(n,"cx",t[0]),l&2&&f(n,"cy",t[1]),l&4&&f(n,"r",t[2]),l&8&&f(n,"stroke",t[3]),l&16&&f(n,"fill",t[4])},i:Y,o:Y,d(t){t&&E(n)}}}let rt=1,ft="20 6 2 6";function ot(e,n,t){let{cx:l}=n,{cy:o}=n,{r:i}=n,{stroke:r="black"}=n,{fill:u="lightgrey"}=n;return e.$$set=s=>{"cx"in s&&t(0,l=s.cx),"cy"in s&&t(1,o=s.cy),"r"in s&&t(2,i=s.r),"stroke"in s&&t(3,r=s.stroke),"fill"in s&&t(4,u=s.fill)},[l,o,i,r,u]}class ut extends me{constructor(n){super(),de(this,n,ot,it,_e,{cx:0,cy:1,r:2,stroke:3,fill:4})}}function ct(e){let n,t,l,o,i;return{c(){n=z("line"),f(n,"x1",t=e[0].x-e[5]),f(n,"y1",l=e[0].y-e[4]),f(n,"x2",o=e[0].x+e[5]),f(n,"y2",i=e[0].y+e[4]),f(n,"stroke",e[1]),f(n,"stroke-width",e[2]),f(n,"fill",e[3])},m(r,u){O(r,n,u)},p(r,[u]){u&33&&t!==(t=r[0].x-r[5])&&f(n,"x1",t),u&17&&l!==(l=r[0].y-r[4])&&f(n,"y1",l),u&33&&o!==(o=r[0].x+r[5])&&f(n,"x2",o),u&17&&i!==(i=r[0].y+r[4])&&f(n,"y2",i),u&2&&f(n,"stroke",r[1]),u&4&&f(n,"stroke-width",r[2]),u&8&&f(n,"fill",r[3])},i:Y,o:Y,d(r){r&&E(n)}}}function at(e,n,t){let l,o,{center:i}=n,{r}=n,{alfa:u}=n,{stroke:s}=n,{strokeWidth:c}=n,{fill:a}=n;return e.$$set=g=>{"center"in g&&t(0,i=g.center),"r"in g&&t(6,r=g.r),"alfa"in g&&t(7,u=g.alfa),"stroke"in g&&t(1,s=g.stroke),"strokeWidth"in g&&t(2,c=g.strokeWidth),"fill"in g&&t(3,a=g.fill)},e.$$.update=()=>{e.$$.dirty&192&&t(5,l=r*Math.cos(u)),e.$$.dirty&192&&t(4,o=-r*Math.sin(u))},[i,s,c,a,o,l,r,u]}class st extends me{constructor(n){super(),de(this,n,at,ct,_e,{center:0,r:6,alfa:7,stroke:1,strokeWidth:2,fill:3})}}function ht(e){let n,t,l,o,i;return{c(){n=z("line"),f(n,"x1",t=e[0].x),f(n,"y1",l=e[0].y),f(n,"x2",o=e[0].x+e[3]),f(n,"y2",i=e[0].y+e[2]),f(n,"stroke",e[1]),f(n,"stroke-width","4"),f(n,"fill",e[1])},m(r,u){O(r,n,u)},p(r,[u]){u&1&&t!==(t=r[0].x)&&f(n,"x1",t),u&1&&l!==(l=r[0].y)&&f(n,"y1",l),u&9&&o!==(o=r[0].x+r[3])&&f(n,"x2",o),u&5&&i!==(i=r[0].y+r[2])&&f(n,"y2",i),u&2&&f(n,"stroke",r[1]),u&2&&f(n,"fill",r[1])},i:Y,o:Y,d(r){r&&E(n)}}}function _t(e,n,t){let l,o,{center:i}=n,{color:r}=n,{force:u}=n,{direction:s}=n;return e.$$set=c=>{"center"in c&&t(0,i=c.center),"color"in c&&t(1,r=c.color),"force"in c&&t(4,u=c.force),"direction"in c&&t(5,s=c.direction)},e.$$.update=()=>{e.$$.dirty&48&&t(3,l=u*Math.cos(s)),e.$$.dirty&48&&t(2,o=-u*Math.sin(s))},[i,r,o,l,u,s]}class Re extends me{constructor(n){super(),de(this,n,_t,ht,_e,{center:0,color:1,force:4,direction:5})}}function Mn(e){let n,t;return n=new Re({props:{center:e[14],force:ne*e[8].force,direction:e[8].direction,color:"blue"}}),{c(){ee(n.$$.fragment)},m(l,o){Q(n,l,o),t=!0},p(l,o){const i={};o&16384&&(i.center=l[14]),o&256&&(i.force=ne*l[8].force),o&256&&(i.direction=l[8].direction),n.$set(i)},i(l){t||(I(n.$$.fragment,l),t=!0)},o(l){R(n.$$.fragment,l),t=!1},d(l){Z(n,l)}}}function An(e){let n,t;return n=new Re({props:{center:e[14],force:ne*e[7].force,direction:e[7].direction,color:"blue"}}),{c(){ee(n.$$.fragment)},m(l,o){Q(n,l,o),t=!0},p(l,o){const i={};o&16384&&(i.center=l[14]),o&128&&(i.force=ne*l[7].force),o&128&&(i.direction=l[7].direction),n.$set(i)},i(l){t||(I(n.$$.fragment,l),t=!0)},o(l){R(n.$$.fragment,l),t=!1},d(l){Z(n,l)}}}function Cn(e){let n,t;return n=new Re({props:{center:e[14],force:ne*e[6].force,direction:e[6].direction,color:"orange"}}),{c(){ee(n.$$.fragment)},m(l,o){Q(n,l,o),t=!0},p(l,o){const i={};o&16384&&(i.center=l[14]),o&64&&(i.force=ne*l[6].force),o&64&&(i.direction=l[6].direction),n.$set(i)},i(l){t||(I(n.$$.fragment,l),t=!0)},o(l){R(n.$$.fragment,l),t=!1},d(l){Z(n,l)}}}function Pn(e){let n,t;return n=new Re({props:{center:e[14],force:ne*e[13].force,direction:e[13].direction,color:"green"}}),{c(){ee(n.$$.fragment)},m(l,o){Q(n,l,o),t=!0},p(l,o){const i={};o&16384&&(i.center=l[14]),o&8192&&(i.force=ne*l[13].force),o&8192&&(i.direction=l[13].direction),n.$set(i)},i(l){t||(I(n.$$.fragment,l),t=!0)},o(l){R(n.$$.fragment,l),t=!1},d(l){Z(n,l)}}}function In(e){let n,t;return n=new Re({props:{center:e[14],force:ne*e[12].force,direction:e[12].direction,color:"green"}}),{c(){ee(n.$$.fragment)},m(l,o){Q(n,l,o),t=!0},p(l,o){const i={};o&16384&&(i.center=l[14]),o&4096&&(i.force=ne*l[12].force),o&4096&&(i.direction=l[12].direction),n.$set(i)},i(l){t||(I(n.$$.fragment,l),t=!0)},o(l){R(n.$$.fragment,l),t=!1},d(l){Z(n,l)}}}function dt(e){let n,t,l,o,i,r,u,s,c,a,g,h,k,B,N,V,D;a=new st({props:{center:e[14],r:Vn,alfa:e[9],stroke:"red",strokeWidth:"2",fill:"red"}});let P=e[2].drag&&Mn(e),w=e[2].lift&&An(e),M=e[2].total&&Cn(e),C=e[2].normal&&Pn(e),v=e[2].tangential&&In(e);return{c(){n=z("line"),o=W(),i=z("text"),r=K(e[0]),c=W(),ee(a.$$.fragment),g=W(),P&&P.c(),h=W(),w&&w.c(),k=W(),M&&M.c(),B=W(),C&&C.c(),N=W(),v&&v.c(),V=qe(),f(n,"x1",t=e[1].x),f(n,"y1",l=e[1].y),f(n,"x2",e[11]),f(n,"y2",e[10]),f(n,"stroke",e[3]),f(n,"stroke-width",e[4]),f(n,"fill",e[5]),f(i,"x",u=e[11]-15),f(i,"y",s=e[10]+15),f(i,"fill","blue")},m(_,b){O(_,n,b),O(_,o,b),O(_,i,b),d(i,r),O(_,c,b),Q(a,_,b),O(_,g,b),P&&P.m(_,b),O(_,h,b),w&&w.m(_,b),O(_,k,b),M&&M.m(_,b),O(_,B,b),C&&C.m(_,b),O(_,N,b),v&&v.m(_,b),O(_,V,b),D=!0},p(_,[b]){(!D||b&2&&t!==(t=_[1].x))&&f(n,"x1",t),(!D||b&2&&l!==(l=_[1].y))&&f(n,"y1",l),(!D||b&2048)&&f(n,"x2",_[11]),(!D||b&1024)&&f(n,"y2",_[10]),(!D||b&8)&&f(n,"stroke",_[3]),(!D||b&16)&&f(n,"stroke-width",_[4]),(!D||b&32)&&f(n,"fill",_[5]),(!D||b&1)&&Hn(r,_[0]),(!D||b&2048&&u!==(u=_[11]-15))&&f(i,"x",u),(!D||b&1024&&s!==(s=_[10]+15))&&f(i,"y",s);const H={};b&16384&&(H.center=_[14]),b&512&&(H.alfa=_[9]),a.$set(H),_[2].drag?P?(P.p(_,b),b&4&&I(P,1)):(P=Mn(_),P.c(),I(P,1),P.m(h.parentNode,h)):P&&(Pe(),R(P,1,1,()=>{P=null}),Ie()),_[2].lift?w?(w.p(_,b),b&4&&I(w,1)):(w=An(_),w.c(),I(w,1),w.m(k.parentNode,k)):w&&(Pe(),R(w,1,1,()=>{w=null}),Ie()),_[2].total?M?(M.p(_,b),b&4&&I(M,1)):(M=Cn(_),M.c(),I(M,1),M.m(B.parentNode,B)):M&&(Pe(),R(M,1,1,()=>{M=null}),Ie()),_[2].normal?C?(C.p(_,b),b&4&&I(C,1)):(C=Pn(_),C.c(),I(C,1),C.m(N.parentNode,N)):C&&(Pe(),R(C,1,1,()=>{C=null}),Ie()),_[2].tangential?v?(v.p(_,b),b&4&&I(v,1)):(v=In(_),v.c(),I(v,1),v.m(V.parentNode,V)):v&&(Pe(),R(v,1,1,()=>{v=null}),Ie())},i(_){D||(I(a.$$.fragment,_),I(P),I(w),I(M),I(C),I(v),D=!0)},o(_){R(a.$$.fragment,_),R(P),R(w),R(M),R(C),R(v),D=!1},d(_){_&&(E(n),E(o),E(i),E(c),E(g),E(h),E(k),E(B),E(N),E(V)),Z(a,_),P&&P.d(_),w&&w.d(_),M&&M.d(_),C&&C.d(_),v&&v.d(_)}}}let Vn=30,ne=1;function mt(e,n,t){let l,o,i,r,u,s,c,a,g,h,k,B,N,{idx:V}=n,{center:D}=n,{r:P}=n,{alfa:w}=n,{vane:M}=n,{wind:C}=n,{showForces:v}=n,{stroke:_}=n,{strokeWidth:b}=n,{fill:H}=n;function ge(A,te){let S=A.force*Math.cos(A.direction)+te.force*Math.cos(te.direction),fe=A.force*Math.sin(A.direction)+te.force*Math.sin(te.direction);return{force:Math.sqrt(S*S+fe*fe),direction:Math.atan2(fe,S)}}return e.$$set=A=>{"idx"in A&&t(0,V=A.idx),"center"in A&&t(1,D=A.center),"r"in A&&t(15,P=A.r),"alfa"in A&&t(16,w=A.alfa),"vane"in A&&t(17,M=A.vane),"wind"in A&&t(18,C=A.wind),"showForces"in A&&t(2,v=A.showForces),"stroke"in A&&t(3,_=A.stroke),"strokeWidth"in A&&t(4,b=A.strokeWidth),"fill"in A&&t(5,H=A.fill)},e.$$.update=()=>{e.$$.dirty&98306&&t(11,l=D.x+P*Math.cos(w)),e.$$.dirty&98306&&t(10,o=D.y-P*Math.sin(w)),e.$$.dirty&3072&&t(14,i={x:l,y:o}),e.$$.dirty&196608&&t(9,r=w/2+(M.alfa-Math.PI/2)/2),e.$$.dirty&262656&&t(19,u=Math.PI/2+r-C.direction),e.$$.dirty&524288&&t(21,s=2*Vn*Math.abs(Math.cos(u))),e.$$.dirty&524288&&t(22,c=Math.abs(Math.cos(u))),e.$$.dirty&6553600&&t(8,a={force:C.speed*s*c,direction:C.direction}),e.$$.dirty&524288&&t(20,g=.8*Math.sin(u)),e.$$.dirty&3932160&&t(7,h={force:C.speed*s*g,direction:C.direction+Math.sign(Math.cos(u))*Math.PI/2}),e.$$.dirty&384&&t(6,k=ge(a,h)),e.$$.dirty&65600&&t(13,B={force:k.force*Math.cos(k.direction-w),direction:w}),e.$$.dirty&65600&&t(12,N={force:k.force*Math.sin(k.direction-w),direction:w+Math.PI/2})},[V,D,v,_,b,H,k,h,a,r,o,l,N,B,i,P,w,M,C,u,g,s,c]}class gt extends me{constructor(n){super(),de(this,n,mt,dt,_e,{idx:0,center:1,r:15,alfa:16,vane:17,wind:18,showForces:2,stroke:3,strokeWidth:4,fill:5})}}function bt(e){let n,t,l,o,i,r,u,s;return{c(){n=z("g"),t=z("line"),o=z("polygon"),r=z("circle"),f(t,"x1",e[7]),f(t,"y1",e[6]),f(t,"x2",e[5]),f(t,"y2",e[4]),f(t,"stroke",l=e[0].color),f(t,"stroke-width","2"),f(t,"fill","vane.color"),f(o,"points",i=e[7]+","+e[6]+" "+(e[7]+12)+","+(e[6]+3)+" "+(e[7]+12)+","+(e[6]-3)),Se(o,"fill","white"),Se(o,"stroke",e[0].color),Se(o,"stroke-width","1"),f(r,"cx",e[3]),f(r,"cy",e[2]),f(r,"r",u=e[0].circle),f(r,"fill",s=e[0].color),f(n,"transform",e[1])},m(c,a){O(c,n,a),d(n,t),d(n,o),d(n,r)},p(c,[a]){a&128&&f(t,"x1",c[7]),a&64&&f(t,"y1",c[6]),a&32&&f(t,"x2",c[5]),a&16&&f(t,"y2",c[4]),a&1&&l!==(l=c[0].color)&&f(t,"stroke",l),a&192&&i!==(i=c[7]+","+c[6]+" "+(c[7]+12)+","+(c[6]+3)+" "+(c[7]+12)+","+(c[6]-3))&&f(o,"points",i),a&1&&Se(o,"stroke",c[0].color),a&8&&f(r,"cx",c[3]),a&4&&f(r,"cy",c[2]),a&1&&u!==(u=c[0].circle)&&f(r,"r",u),a&1&&s!==(s=c[0].color)&&f(r,"fill",s),a&2&&f(n,"transform",c[1])},i:Y,o:Y,d(c){c&&E(n)}}}function kt(e,n,t){let l,o,i,r,u,s,c,{center:a}=n,{vane:g}=n;return e.$$set=h=>{"center"in h&&t(8,a=h.center),"vane"in h&&t(0,g=h.vane)},e.$$.update=()=>{e.$$.dirty&257&&t(7,l=a.x-g.r),e.$$.dirty&256&&t(6,o=a.y),e.$$.dirty&257&&t(5,i=a.x+g.r),e.$$.dirty&256&&t(4,r=a.y),e.$$.dirty&257&&t(3,u=a.x+g.r),e.$$.dirty&256&&t(2,s=a.y),e.$$.dirty&257&&t(1,c="rotate("+-g.alfa*180/Math.PI+", "+a.x+", "+a.y+")")},[g,c,s,u,r,i,o,l,a]}class yt extends me{constructor(n){super(),de(this,n,kt,bt,_e,{center:8,vane:0})}}function Nn(e,n,t){const l=e.slice();return l[6]=n[t],l[8]=t,l}function Dn(e,n,t){const l=e.slice();return l[6]=n[t],l[10]=t,l}function Wn(e,n,t){const l=e.slice();return l[6]=n[t],l[10]=t,l}function En(e,n,t){const l=e.slice();return l[6]=n[t],l[10]=t,l}function Fn(e){let n,t,l,o,i;return{c(){n=z("line"),f(n,"x1",t=e[0].x+(e[10]-1)*U+e[3]),f(n,"y1",l=e[0].y+(e[8]-1)*G+e[4]),f(n,"x2",o=e[0].x+(e[10]-1)*U+Bn+e[3]),f(n,"y2",i=e[0].y+(e[8]-1)*G+e[4]),f(n,"stroke",e[1])},m(r,u){O(r,n,u)},p(r,u){u&1&&t!==(t=r[0].x+(r[10]-1)*U+r[3])&&f(n,"x1",t),u&1&&l!==(l=r[0].y+(r[8]-1)*G+r[4])&&f(n,"y1",l),u&1&&o!==(o=r[0].x+(r[10]-1)*U+Bn+r[3])&&f(n,"x2",o),u&1&&i!==(i=r[0].y+(r[8]-1)*G+r[4])&&f(n,"y2",i),u&2&&f(n,"stroke",r[1])},d(r){r&&E(n)}}}function Rn(e){let n,t,l,o,i;return{c(){n=z("line"),f(n,"x1",t=e[0].x+(e[10]-1)*U+e[3]),f(n,"y1",l=e[0].y+(e[8]-1)*G+e[4]),f(n,"x2",o=e[0].x+(e[10]-1)*U+e[3]-Ye),f(n,"y2",i=e[0].y+(e[8]-1)*G+e[4]-Xe),f(n,"stroke",e[1])},m(r,u){O(r,n,u)},p(r,u){u&1&&t!==(t=r[0].x+(r[10]-1)*U+r[3])&&f(n,"x1",t),u&1&&l!==(l=r[0].y+(r[8]-1)*G+r[4])&&f(n,"y1",l),u&1&&o!==(o=r[0].x+(r[10]-1)*U+r[3]-Ye)&&f(n,"x2",o),u&1&&i!==(i=r[0].y+(r[8]-1)*G+r[4]-Xe)&&f(n,"y2",i),u&2&&f(n,"stroke",r[1])},d(r){r&&E(n)}}}function On(e){let n,t,l,o,i;return{c(){n=z("line"),f(n,"x1",t=e[0].x+(e[10]-1)*U+e[3]+Te),f(n,"y1",l=e[0].y+(e[8]-1)*G+e[4]),f(n,"x2",o=e[0].x+(e[10]-1)*U+e[3]+Te-Ye),f(n,"y2",i=e[0].y+(e[8]-1)*G+e[4]-Xe),f(n,"stroke",e[1])},m(r,u){O(r,n,u)},p(r,u){u&1&&t!==(t=r[0].x+(r[10]-1)*U+r[3]+Te)&&f(n,"x1",t),u&1&&l!==(l=r[0].y+(r[8]-1)*G+r[4])&&f(n,"y1",l),u&1&&o!==(o=r[0].x+(r[10]-1)*U+r[3]+Te-Ye)&&f(n,"x2",o),u&1&&i!==(i=r[0].y+(r[8]-1)*G+r[4]-Xe)&&f(n,"y2",i),u&2&&f(n,"stroke",r[1])},d(r){r&&E(n)}}}function Ln(e){let n,t,l,o=$(Array(4)),i=[];for(let a=0;a<o.length;a+=1)i[a]=Fn(En(e,o,a));let r=$(Array(4)),u=[];for(let a=0;a<r.length;a+=1)u[a]=Rn(Wn(e,r,a));let s=$(Array(4)),c=[];for(let a=0;a<s.length;a+=1)c[a]=On(Dn(e,s,a));return{c(){n=z("g");for(let a=0;a<i.length;a+=1)i[a].c();t=qe();for(let a=0;a<u.length;a+=1)u[a].c();l=qe();for(let a=0;a<c.length;a+=1)c[a].c()},m(a,g){O(a,n,g);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(n,null);d(n,t);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(n,null);d(n,l);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(n,null)},p(a,g){if(g&27){o=$(Array(4));let h;for(h=0;h<o.length;h+=1){const k=En(a,o,h);i[h]?i[h].p(k,g):(i[h]=Fn(k),i[h].c(),i[h].m(n,t))}for(;h<i.length;h+=1)i[h].d(1);i.length=o.length}if(g&27){r=$(Array(4));let h;for(h=0;h<r.length;h+=1){const k=Wn(a,r,h);u[h]?u[h].p(k,g):(u[h]=Rn(k),u[h].c(),u[h].m(n,l))}for(;h<u.length;h+=1)u[h].d(1);u.length=r.length}if(g&27){s=$(Array(4));let h;for(h=0;h<s.length;h+=1){const k=Dn(a,s,h);c[h]?c[h].p(k,g):(c[h]=On(k),c[h].c(),c[h].m(n,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=s.length}},d(a){a&&E(n),We(i,a),We(u,a),We(c,a)}}}function pt(e){let n,t=$(Array(4)),l=[];for(let o=0;o<t.length;o+=1)l[o]=Ln(Nn(e,t,o));return{c(){n=z("g");for(let o=0;o<l.length;o+=1)l[o].c();f(n,"transform",e[2])},m(o,i){O(o,n,i);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(n,null)},p(o,[i]){if(i&27){t=$(Array(4));let r;for(r=0;r<t.length;r+=1){const u=Nn(o,t,r);l[r]?l[r].p(u,i):(l[r]=Ln(u),l[r].c(),l[r].m(n,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}i&4&&f(n,"transform",o[2])},i:Y,o:Y,d(o){o&&E(n),We(l,o)}}}let U=100,Bn=40,G=90,Xe=10,Ye=4,Te=4;function wt(e,n,t){let l,{center:o={x:200,y:200}}=n,{color:i="red"}=n,{direction:r=0}=n,u=-70,s=-45;return e.$$set=c=>{"center"in c&&t(0,o=c.center),"color"in c&&t(1,i=c.color),"direction"in c&&t(5,r=c.direction)},e.$$.update=()=>{e.$$.dirty&33&&t(2,l="rotate("+-r*180/Math.PI+", "+o.x+", "+o.y+")")},[o,i,l,u,s,r]}class vt extends me{constructor(n){super(),de(this,n,wt,pt,_e,{center:0,color:1,direction:5})}}function jn(e,n,t){const l=e.slice();return l[30]=n[t],l[31]=n,l[32]=t,l}function Sn(e){let n,t=e[32],l;const o=()=>e[26](n,t),i=()=>e[26](null,t);let r={idx:e[32],center:e[5].center,r:e[5].arms.r,alfa:e[5].alfa+e[32]*2*Math.PI/e[5].arms.number,vane:e[5].vane,wind:e[6],showForces:e[7],stroke:e[30],strokeWidth:"2",fill:"red"};return n=new gt({props:r}),o(),{c(){ee(n.$$.fragment)},m(u,s){Q(n,u,s),l=!0},p(u,s){t!==u[32]&&(i(),t=u[32],o());const c={};s[0]&32&&(c.center=u[5].center),s[0]&32&&(c.r=u[5].arms.r),s[0]&32&&(c.alfa=u[5].alfa+u[32]*2*Math.PI/u[5].arms.number),s[0]&32&&(c.vane=u[5].vane),s[0]&64&&(c.wind=u[6]),s[0]&128&&(c.showForces=u[7]),s[0]&32&&(c.stroke=u[30]),n.$set(c)},i(u){l||(I(n.$$.fragment,u),l=!0)},o(u){R(n.$$.fragment,u),l=!1},d(u){i(),Z(n,u)}}}function Mt(e){let n,t,l,o,i,r,u,s,c,a,g,h,k,B,N,V,D,P,w,M,C,v,_,b,H,ge,A,te,S,fe,q,Oe,le,be,en,oe,nn,tn,Le,ln,ie,rn,X,fn,on,un,cn,an,sn,ke,hn,ye,_n,pe,dn,we,mn,ve,gn,bn,Be,je,x,ue,Ke,ce,ae,Me,Ue,kn;ue=new ut({props:{cx:e[5].center.x,cy:e[5].center.y,r:e[5].arms.r,stroke:"black",fill:"lightgrey"}});let se=$(e[5].arms.colors.slice(0,e[5].arms.number)),F=[];for(let m=0;m<se.length;m+=1)F[m]=Sn(jn(e,se,m));const Xn=m=>R(F[m],1,1,()=>{F[m]=null});return ce=new yt({props:{center:e[5].center,vane:e[5].vane}}),ae=new vt({props:{center:e[5].center,direction:e[6].direction,color:"grey"}}),{c(){n=p("h2"),n.textContent="Planetary turbine",t=W(),l=p("main"),o=p("div"),i=p("div"),r=p("label"),r.textContent="Arms:",u=W(),s=p("input"),c=p("br"),a=W(),g=p("label"),g.textContent="Rotation:",h=W(),k=p("input"),B=K(` 
      `),N=p("input"),V=p("br"),D=W(),P=p("label"),P.textContent="Auto:",w=W(),M=p("input"),C=W(),v=p("select"),_=p("option"),_.textContent="CCW / Left",b=p("option"),b.textContent="CW / Right",H=p("br"),ge=W(),A=p("label"),A.textContent="Wind Direction:",te=W(),S=p("input"),fe=K(` 
      `),q=p("input"),Oe=p("br"),le=W(),be=p("label"),be.textContent="Vane follows wind:",en=W(),oe=p("input"),nn=p("br"),tn=W(),Le=p("label"),Le.textContent="Vane Direction:",ln=W(),ie=p("input"),rn=K(` 
      `),X=p("input"),fn=p("br"),on=W(),un=p("br"),cn=K(`
    
      Display forces:`),an=p("br"),sn=W(),ke=p("input"),hn=K(` Drag
      `),ye=p("input"),_n=K(` Lift
      `),pe=p("input"),dn=K(` Total
      `),we=p("input"),mn=K(` Normal
      `),ve=p("input"),gn=K(" Tangential"),bn=W(),Be=p("div"),je=p("div"),x=z("svg"),ee(ue.$$.fragment);for(let m=0;m<F.length;m+=1)F[m].c();Ke=qe(),ee(ce.$$.fragment),ee(ae.$$.fragment),f(r,"for","numArms"),f(s,"id","numArms"),f(s,"type","number"),f(s,"size","2"),f(s,"min","2"),f(s,"max","8"),f(s,"step","1"),f(g,"for","degRotation"),f(k,"type","number"),f(k,"size","4"),k.disabled=!0,f(N,"id","degRotation"),f(N,"type","range"),f(N,"min","0"),f(N,"max","359"),f(N,"step","1"),N.disabled=e[4],f(P,"for","autoRotate"),f(M,"id","autoRotate"),f(M,"type","checkbox"),_.__value="left",j(_,_.__value),b.__value="right",j(b,b.__value),e[9]===void 0&&Ve(()=>e[14].call(v)),f(A,"for","wDirection"),f(S,"type","number"),f(S,"size","4"),S.disabled=!0,f(q,"id","wDirection"),f(q,"type","range"),f(q,"min","0"),f(q,"max","359"),f(q,"step","1"),f(be,"for","vane"),f(oe,"id","vane"),f(oe,"type","checkbox"),f(Le,"for","vDirection"),f(ie,"type","number"),f(ie,"size","4"),ie.disabled=!0,f(X,"id","vDirection"),f(X,"type","range"),f(X,"min","0"),f(X,"max","359"),f(X,"step","1"),X.disabled=e[3],f(ke,"type","checkbox"),f(ye,"type","checkbox"),f(pe,"type","checkbox"),f(we,"type","checkbox"),f(ve,"type","checkbox"),f(i,"class","column svelte-1ptujve"),f(x,"width","400"),f(x,"height","400"),f(je,"class","turbine"),f(Be,"class","column svelte-1ptujve"),f(o,"class","row svelte-1ptujve"),f(l,"class","svelte-1ptujve")},m(m,y){O(m,n,y),O(m,t,y),O(m,l,y),d(l,o),d(o,i),d(i,r),d(i,u),d(i,s),j(s,e[5].arms.number),d(i,c),d(i,a),d(i,g),d(i,h),d(i,k),j(k,e[0]),d(i,B),d(i,N),j(N,e[0]),d(i,V),d(i,D),d(i,P),d(i,w),d(i,M),M.checked=e[4],d(i,C),d(i,v),d(v,_),d(v,b),wn(v,e[9],!0),d(i,H),d(i,ge),d(i,A),d(i,te),d(i,S),j(S,e[2]),d(i,fe),d(i,q),j(q,e[2]),d(i,Oe),d(i,le),d(i,be),d(i,en),d(i,oe),oe.checked=e[3],d(i,nn),d(i,tn),d(i,Le),d(i,ln),d(i,ie),j(ie,e[1]),d(i,rn),d(i,X),j(X,e[1]),d(i,fn),d(i,on),d(i,un),d(i,cn),d(i,an),d(i,sn),d(i,ke),ke.checked=e[7].drag,d(i,hn),d(i,ye),ye.checked=e[7].lift,d(i,_n),d(i,pe),pe.checked=e[7].total,d(i,dn),d(i,we),we.checked=e[7].normal,d(i,mn),d(i,ve),ve.checked=e[7].tangential,d(i,gn),d(o,bn),d(o,Be),d(Be,je),d(je,x),Q(ue,x,null);for(let re=0;re<F.length;re+=1)F[re]&&F[re].m(x,null);d(x,Ke),Q(ce,x,null),Q(ae,x,null),Me=!0,Ue||(kn=[L(s,"input",e[10]),L(k,"input",e[11]),L(N,"change",e[12]),L(N,"input",e[12]),L(M,"change",e[13]),L(v,"change",e[14]),L(v,"change",e[15]),L(S,"input",e[16]),L(q,"change",e[17]),L(q,"input",e[17]),L(oe,"change",e[18]),L(ie,"input",e[19]),L(X,"change",e[20]),L(X,"input",e[20]),L(ke,"change",e[21]),L(ye,"change",e[22]),L(pe,"change",e[23]),L(we,"change",e[24]),L(ve,"change",e[25])],Ue=!0)},p(m,y){y[0]&32&&J(s.value)!==m[5].arms.number&&j(s,m[5].arms.number),y[0]&1&&J(k.value)!==m[0]&&j(k,m[0]),(!Me||y[0]&16)&&(N.disabled=m[4]),y[0]&1&&j(N,m[0]),y[0]&16&&(M.checked=m[4]),y[0]&512&&wn(v,m[9]),y[0]&4&&J(S.value)!==m[2]&&j(S,m[2]),y[0]&4&&j(q,m[2]),y[0]&8&&(oe.checked=m[3]),y[0]&2&&J(ie.value)!==m[1]&&j(ie,m[1]),(!Me||y[0]&8)&&(X.disabled=m[3]),y[0]&2&&j(X,m[1]),y[0]&128&&(ke.checked=m[7].drag),y[0]&128&&(ye.checked=m[7].lift),y[0]&128&&(pe.checked=m[7].total),y[0]&128&&(we.checked=m[7].normal),y[0]&128&&(ve.checked=m[7].tangential);const re={};if(y[0]&32&&(re.cx=m[5].center.x),y[0]&32&&(re.cy=m[5].center.y),y[0]&32&&(re.r=m[5].arms.r),ue.$set(re),y[0]&480){se=$(m[5].arms.colors.slice(0,m[5].arms.number));let T;for(T=0;T<se.length;T+=1){const yn=jn(m,se,T);F[T]?(F[T].p(yn,y),I(F[T],1)):(F[T]=Sn(yn),F[T].c(),I(F[T],1),F[T].m(x,Ke))}for(Pe(),T=se.length;T<F.length;T+=1)Xn(T);Ie()}const Ge={};y[0]&32&&(Ge.center=m[5].center),y[0]&32&&(Ge.vane=m[5].vane),ce.$set(Ge);const He={};y[0]&32&&(He.center=m[5].center),y[0]&64&&(He.direction=m[6].direction),ae.$set(He)},i(m){if(!Me){I(ue.$$.fragment,m);for(let y=0;y<se.length;y+=1)I(F[y]);I(ce.$$.fragment,m),I(ae.$$.fragment,m),Me=!0}},o(m){R(ue.$$.fragment,m),F=F.filter(Boolean);for(let y=0;y<F.length;y+=1)R(F[y]);R(ce.$$.fragment,m),R(ae.$$.fragment,m),Me=!1},d(m){m&&(E(n),E(t),E(l)),Z(ue),We(F,m),Z(ce),Z(ae),Ue=!1,De(kn)}}}function Ze(e){return(90-e)*Math.PI/180}function At(e,n,t){let l={alfa:0,center:{x:200,y:200},arms:{number:3,r:150,colors:["yellow","green","blue","coral","purple","aqua","plum","teal"]},vane:{color:"black",r:30,circle:6,alfa:0}},o={direction:0,speed:1},i=90,r=180,u=180,s=!0,c={drag:!0,lift:!0,total:!0,normal:!0,tangential:!0},a=[],g,h=!1,k="left";function B(){g=setInterval(()=>{let le=k=="right"?1:-1;i==359&&le==1?t(0,i=0):i==0&&le==-1?t(0,i=359):t(0,i+=le)},30)}function N(){clearInterval(g)}Zn(()=>{});function V(){l.arms.number=J(this.value),t(5,l),t(0,i),t(3,s),t(2,u),t(1,r)}function D(){i=J(this.value),t(0,i)}function P(){i=J(this.value),t(0,i)}function w(){h=this.checked,t(4,h)}function M(){k=Jn(this),t(9,k)}const C=()=>console.log(k);function v(){u=J(this.value),t(2,u)}function _(){u=J(this.value),t(2,u)}function b(){s=this.checked,t(3,s)}function H(){r=J(this.value),t(1,r)}function ge(){r=J(this.value),t(1,r)}function A(){c.drag=this.checked,t(7,c)}function te(){c.lift=this.checked,t(7,c)}function S(){c.total=this.checked,t(7,c)}function fe(){c.normal=this.checked,t(7,c)}function q(){c.tangential=this.checked,t(7,c)}function Oe(le,be){xe[le?"unshift":"push"](()=>{a[be]=le,t(8,a)})}return e.$$.update=()=>{e.$$.dirty[0]&1&&t(5,l.alfa=Ze(i),l),e.$$.dirty[0]&14&&t(5,l.vane.alfa=Ze(180+(s?u:r)),l),e.$$.dirty[0]&4&&t(6,o.direction=Ze(180+u),o),e.$$.dirty[0]&16&&(h?B():N())},[i,r,u,s,h,l,o,c,a,k,V,D,P,w,M,C,v,_,b,H,ge,A,te,S,fe,q,Oe]}class Ct extends me{constructor(n){super(),de(this,n,At,Mt,_e,{},null,[-1,-1])}}new Ct({target:document.getElementById("app")});
